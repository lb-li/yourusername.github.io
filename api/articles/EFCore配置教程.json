{"title":"EFCore配置教程","uid":"4e5f3f8fca52da9f9ff077c4a363f25c","slug":"EFCore配置教程","date":"2024-07-05T00:52:10.000Z","updated":"2024-07-19T08:00:37.399Z","comments":true,"path":"api/articles/EFCore配置教程.json","keywords":null,"cover":"https://cover.png","content":"<h2 id=\"1-安装-EFCore-相关\"><a href=\"#1-安装-EFCore-相关\" class=\"headerlink\" title=\"1. 安装 EFCore 相关\"></a>1. 安装 EFCore 相关</h2><h3 id=\"安装到Model\"><a href=\"#安装到Model\" class=\"headerlink\" title=\"安装到Model\"></a>安装到Model</h3><ol>\n<li>安装 <code>Microsoft.EntityFrameworkCore.SqlServer</code></li>\n<li>安装 <code>Microsoft.EntityFrameworkCore.Tools</code></li>\n</ol>\n<h3 id=\"安装到-API\"><a href=\"#安装到-API\" class=\"headerlink\" title=\"安装到 API\"></a>安装到 API</h3><ol start=\"3\">\n<li>安装 <code>Microsoft.EntityFrameworkCore.Design</code></li>\n</ol>\n<h2 id=\"2-配置连接地址\"><a href=\"#2-配置连接地址\" class=\"headerlink\" title=\"2. 配置连接地址\"></a>2. 配置连接地址</h2><p>在配置文件中添加连接字符串：</p>\n<div class=\"language-json\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">json</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">ConnectionStrings</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\">: </span><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C792EA\">DefaultConnection</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Data Source=.;Initial Catalog=Book;user id=sa;password=123;Max Pool Size=512;Min Pool Size=5;TrustServerCertificate=true;</span><span style=\"color: #89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div><h2 id=\"3-使用-NuGet-命令-（-F-跟新-）\"><a href=\"#3-使用-NuGet-命令-（-F-跟新-）\" class=\"headerlink\" title=\"3.使用 NuGet 命令 （-F 跟新 ）\"></a>3.使用 NuGet 命令 （-F 跟新 ）</h2><div class=\"language-json\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">json</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">Scaffold-DBContext </span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">Name=ConnectionStrings:DefaultConnection</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\"> Microsoft.EntityFrameworkCore.SqlServer -context EFDbContext  -F</span></span></code></pre></div><h2 id=\"4-专门注册数据上下文的方法\"><a href=\"#4-专门注册数据上下文的方法\" class=\"headerlink\" title=\"4.专门注册数据上下文的方法\"></a>4.专门注册数据上下文的方法</h2><div class=\"language-json\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">json</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #BABED8\">builder.Services.AddDbContext&lt;EFDbContext&gt;(options =&gt;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    var connection = builder.Configuration.GetConnectionString(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C792EA\">DefaultConnection</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #BABED8\">);</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    options.UseSqlServer(</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">        connection</span></span>\n<span class=\"line\"><span style=\"color: #BABED8\">    );</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span><span style=\"color: #BABED8\">);</span></span></code></pre></div>","feature":true,"text":"1. 安装 EFCore 相关安装到Model 安装 Microsoft.EntityFrameworkCore.SqlServer 安装 Microsoft....","permalink":"/post/EFCore配置教程","photos":[],"count_time":{"symbolsCount":802,"symbolsTime":"1 mins."},"categories":[{"name":".NET8 Api框架搭建","slug":"NET8-Api框架搭建","count":5,"path":"api/categories/NET8-Api框架搭建.json"}],"tags":[{"name":".NET","slug":"NET","count":4,"path":"api/tags/NET.json"},{"name":"EFCore","slug":"EFCore","count":1,"path":"api/tags/EFCore.json"},{"name":"数据库","slug":"数据库","count":1,"path":"api/tags/数据库.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-%E5%AE%89%E8%A3%85-EFCore-%E7%9B%B8%E5%85%B3\"><span class=\"toc-text\">1. 安装 EFCore 相关</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%E5%88%B0Model\"><span class=\"toc-text\">安装到Model</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85%E5%88%B0-API\"><span class=\"toc-text\">安装到 API</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-%E9%85%8D%E7%BD%AE%E8%BF%9E%E6%8E%A5%E5%9C%B0%E5%9D%80\"><span class=\"toc-text\">2. 配置连接地址</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-%E4%BD%BF%E7%94%A8-NuGet-%E5%91%BD%E4%BB%A4-%EF%BC%88-F-%E8%B7%9F%E6%96%B0-%EF%BC%89\"><span class=\"toc-text\">3.使用 NuGet 命令 （-F 跟新 ）</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-%E4%B8%93%E9%97%A8%E6%B3%A8%E5%86%8C%E6%95%B0%E6%8D%AE%E4%B8%8A%E4%B8%8B%E6%96%87%E7%9A%84%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">4.专门注册数据上下文的方法</span></a></li></ol>","author":{"name":"小刘","slug":"blog-author","avatar":"/images/1.jpg","link":"/","description":"一位正在重塑知识的技术人。作为一名.net后端程序员，我专注于前端和后端技术的开发，热衷于探索新技术并分享我的学习与实践经验。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"AutoMapper配置教程","uid":"b84c84a24d4fbceb89d7a0429211000c","slug":"AutoFac配置教程 (2)","date":"2024-07-18T12:04:40.525Z","updated":"2024-07-19T08:08:46.419Z","comments":true,"path":"api/articles/AutoFac配置教程 (2).json","keywords":null,"cover":null,"text":"1.NuGet安装 在项目中安装 AutoMapper 包； 2.添加 AutoMapperConfigs 类到拓展文件夹csharpusing AutoMap...","permalink":"/post/AutoFac配置教程 (2)","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":".NET8 Api框架搭建","slug":"NET8-Api框架搭建","count":5,"path":"api/categories/NET8-Api框架搭建.json"}],"tags":[{"name":"AutoMapper","slug":"AutoMapper","count":1,"path":"api/tags/AutoMapper.json"},{"name":".NET","slug":"NET","count":4,"path":"api/tags/NET.json"},{"name":"映射","slug":"映射","count":1,"path":"api/tags/映射.json"}],"author":{"name":"小刘","slug":"blog-author","avatar":"/images/1.jpg","link":"/","description":"一位正在重塑知识的技术人。作为一名.net后端程序员，我专注于前端和后端技术的开发，热衷于探索新技术并分享我的学习与实践经验。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"使用 Yarn 创建 Vite + Vue3 + TypeScript 项目","uid":"65216184bc16e698eec3cb22c7e46d53","slug":"使用 Yarn 搭建Vite + Vue3 + TypeScript 项目","date":"2024-07-19T08:11:35.000Z","updated":"2024-07-19T09:07:11.242Z","comments":true,"path":"api/articles/使用 Yarn 搭建Vite + Vue3 + TypeScript 项目.json","keywords":null,"cover":null,"text":"使用 Yarn 创建 Vite + Vue3 + TypeScript 项目1. 创建项目使用以下命令创建一个新的 Vite 项目，并指定使用 Vue 和 Ty...","permalink":"/post/使用 Yarn 搭建Vite + Vue3 + TypeScript 项目","photos":[],"count_time":{"symbolsCount":557,"symbolsTime":"1 mins."},"categories":[{"name":"Vue3项目搭建","slug":"Vue3项目搭建","count":3,"path":"api/categories/Vue3项目搭建.json"}],"tags":[{"name":"Vite","slug":"Vite","count":1,"path":"api/tags/Vite.json"},{"name":"Vue3","slug":"Vue3","count":1,"path":"api/tags/Vue3.json"},{"name":"TypeScript","slug":"TypeScript","count":1,"path":"api/tags/TypeScript.json"},{"name":"Yarn","slug":"Yarn","count":3,"path":"api/tags/Yarn.json"}],"author":{"name":"小刘","slug":"blog-author","avatar":"/images/1.jpg","link":"/","description":"一位正在重塑知识的技术人。作为一名.net后端程序员，我专注于前端和后端技术的开发，热衷于探索新技术并分享我的学习与实践经验。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}